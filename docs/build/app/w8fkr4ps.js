/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{a as i,b as s}from"./chunk-d3ec1289.js";const t=60,l={goalNumberOfSuccesses:3,initialGameTimer:5},n={goalNumberOfSuccesses:5,initialGameTimer:6},a={goalNumberOfSuccesses:7,initialGameTimer:7},u={buttonLabel:"Yay!",heading:"You Won!",text:"Congratulations on successfully helping your Dragon find a happy life!"},r={buttonLabel:"Try again!",heading:"Oh noes!",text:"Unfortunately, you didn't do so well this timeâ€¦"},c=1,d=2,o=30;class h{constructor(){this.feedingClass="",this.generalCluesDisabled=!0,this.resultButtonLabel="",this.resultHeading="",this.resultText="",this.specificCluesDisabled=!0,this.clueTimer=0,this.feedTimer=0,this.gameTimer=0,this.goalNumberOfSuccesses=0,this.initialFeedTimer=2,this.initialGameTimer=0,this.initialNumberOfClues=3,this.isRunning=!1,this.remainingClues=0,this.successesUntilVictory=0}componentDidLoad(){this.setDifficulty(l),this.dialog=new s(document.querySelector("#game-over-dialog")),this.dialog.listen("MDCDialog:accept",()=>{this.resetGame()}),this.dialog.listen("MDCDialog:cancel",()=>{this.resetGame()})}render(){return e("section",{class:"app-home"},e("section",{class:"difficulty-controls"},e("button",{class:"mdc-button",onClick:this.setDifficulty.bind(this,l),disabled:this.isRunning},"Easy"),e("button",{class:"mdc-button",onClick:this.setDifficulty.bind(this,n),disabled:this.isRunning},"Medium"),e("button",{class:"mdc-button",onClick:this.setDifficulty.bind(this,a),disabled:this.isRunning},"Hard")),e("section",{class:"game-controls"},e("button",{class:"mdc-button mdc-button--raised",onClick:this.playOrPause.bind(this)},this.isRunning?"Pause":"Start"),e("button",{class:"mdc-button",onClick:this.resetGame.bind(this),disabled:this.isRunning},"Reset")),e("p",null,"Game time left: ",e("b",null,this.gameTimer)),e("p",{class:this.isFeedingAllowed()?"warning":""},"Feeder time left: ",e("b",null,this.feedTimer)),e("p",null,e("button",{class:"mdc-button mdc-button--raised",onClick:this.feed.bind(this),disabled:!this.isFeedingAllowed()},"Feed!")),e("p",null,"Number of successes left:"," ",e("b",null,this.successesUntilVictory)),e("p",null,e("button",{class:"mdc-button mdc-button--raised",onClick:this.logSuccess.bind(this),disabled:!this.isRunning},"Log success")),e("section",null,e("p",null,"Remaining clues: ",e("b",null,this.remainingClues)),e("p",null,e("button",{class:"mdc-button mdc-button--raised",onClick:this.useGeneralClue.bind(this),disabled:!this.isGeneralClueAllowed()},"Use general clue")),e("p",null,e("button",{class:"mdc-button mdc-button--raised",onClick:this.useSpecificClue.bind(this),disabled:!this.isSpecificClueAllowed()},"Use specific clue"))),e("p",null,"Rules version: 0.3"),e("aside",{id:"game-over-dialog",class:"mdc-dialog",role:"alertdialog","aria-labelledby":"my-mdc-dialog-label","aria-describedby":"my-mdc-dialog-description"},e("div",{class:"mdc-dialog__surface"},e("header",{class:"mdc-dialog__header"},e("h2",{class:"mdc-dialog__header__title"},this.resultHeading)),e("section",{class:"mdc-dialog__body"},this.resultText),e("footer",{class:"mdc-dialog__footer"},e("button",{type:"button",class:"mdc-button mdc-button--raised mdc-dialog__footer__button mdc-dialog__footer__button--accept"},this.resultButtonLabel))),e("div",{class:"mdc-dialog__backdrop"})))}isFeedingAllowed(){return this.isRunning&&this.feedTimer<=o}isGeneralClueAllowed(){return this.isRunning&&this.remainingClues>=c}isSpecificClueAllowed(){return this.isRunning&&this.remainingClues>=d}resetGame(){clearInterval(this.intervalHandle),this.isRunning=!1,this.gameTimer=this.initialGameTimer*t,this.feedTimer=this.initialFeedTimer*t,this.successesUntilVictory=this.goalNumberOfSuccesses,this.remainingClues=this.initialNumberOfClues}setDifficulty(e){this.initialGameTimer=e.initialGameTimer,this.goalNumberOfSuccesses=e.goalNumberOfSuccesses,this.resetGame()}startGame(){this.isRunning=!0,this.clueTimer<1&&this.setClueTimer(),this.intervalHandle=setInterval(()=>{this.gameTimer-=1,this.feedTimer-=1,this.clueTimer-=1,this.clueTimer<1&&(this.remainingClues+=1,this.setClueTimer()),(this.feedTimer<1||this.gameTimer<1)&&(this.isRunning=!1,clearInterval(this.intervalHandle),this.gameOver(r))},1e3)}pauseGame(){clearInterval(this.intervalHandle),this.isRunning=!1}playOrPause(){this.isRunning?this.pauseGame():this.startGame()}feed(){this.feedTimer=this.initialFeedTimer-this.feedTimer}logSuccess(){this.successesUntilVictory-=1,this.successesUntilVictory<1&&(clearInterval(this.intervalHandle),this.isRunning=!1,this.gameOver(u))}useGeneralClue(){this.remainingClues-=c}useSpecificClue(){this.remainingClues-=d}setClueTimer(){this.clueTimer=Math.round(5*Math.random()+15)}gameOver(e){this.resultHeading=e.heading,this.resultText=e.text,this.resultButtonLabel=e.buttonLabel,this.dialog.show()}static get is(){return"app-home"}static get properties(){return{clueTimer:{state:!0},dialog:{state:!0},feedingClass:{state:!0},feedTimer:{state:!0},gameTimer:{state:!0},generalCluesDisabled:{state:!0},goalNumberOfSuccesses:{state:!0},htmlElement:{elementRef:!0},initialFeedTimer:{state:!0},initialGameTimer:{state:!0},initialNumberOfClues:{state:!0},intervalHandle:{state:!0},isFeedingAllowed:{method:!0},isGeneralClueAllowed:{method:!0},isRunning:{state:!0},isSpecificClueAllowed:{method:!0},remainingClues:{state:!0},resultButtonLabel:{state:!0},resultHeading:{state:!0},resultText:{state:!0},specificCluesDisabled:{state:!0},successesUntilVictory:{state:!0}}}static get style(){return".mdc-dialog{display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;visibility:hidden;z-index:5}.mdc-dialog__backdrop{background-color:rgba(0,0,0,.87);background-color:var(--mdc-theme-text-primary-on-light,rgba(0,0,0,.87));position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;opacity:0;z-index:-1}.mdc-dialog__surface{-webkit-box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-background,#fff);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 30px);min-width:640px;max-width:865px;-webkit-transform:translateY(150px) scale(.8);transform:translateY(150px) scale(.8);border-radius:2px;opacity:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:24px 24px 0}.mdc-dialog[dir=rtl] .mdc-dialog__header,[dir=rtl] .mdc-dialog .mdc-dialog__header{text-align:right}.mdc-dialog__header__empty{padding:0}.mdc-dialog__header__title{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0}.mdc-dialog__body{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-light,rgba(0,0,0,.54));font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.5rem;font-weight:400;letter-spacing:.03125em;text-decoration:inherit;text-transform:inherit;margin-top:20px;padding:0 24px 24px}.mdc-dialog__body--scrollable{max-height:195px;border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1);overflow-x:auto;overflow-y:scroll;-webkit-overflow-scrolling:touch}.mdc-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:8px}.mdc-dialog__footer__button{margin-left:0;margin-right:8px}.mdc-dialog__footer__button[dir=rtl],[dir=rtl] .mdc-dialog__footer__button{margin-left:8px;margin-right:0}.mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__footer__button:last-child[dir=rtl],[dir=rtl] .mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__action:not(:disabled){color:#018786;color:var(--mdc-theme-secondary,#018786)}\@media (max-width:640px){.mdc-dialog,.mdc-dialog__surface{min-width:280px}.mdc-dialog__body{line-height:24px}}.mdc-dialog--animating{visibility:visible}.mdc-dialog--animating .mdc-dialog__backdrop{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--animating .mdc-dialog__surface{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--open{visibility:visible}.mdc-dialog--open .mdc-dialog__backdrop{opacity:.3}.mdc-dialog--open .mdc-dialog__surface{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}.app-home{padding:66px 10px 10px}.warning{color:red}.difficulty-controls,.game-controls{margin-top:1em;margin-bottom:1em}"}}export{h as AppHome};