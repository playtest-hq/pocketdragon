/*! Built with http://stenciljs.com */
const{h:e}=window.App;import{a as t,b as n,c as r,d as o}from"./chunk-d3ec1289.js";var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var s,u=(function(e,t){e.exports=function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i=a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(e){var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==o&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=m(function(){t(o,r)});"error"===a.status&&r(a.value)}function m(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);this.state!==u?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t));return n},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=m(f,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(o);++u<n;)l(e[u],u);return c;function l(e,o){t.resolve(e).then(function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(c,a))},function(e){r||(r=!0,i.reject(c,e))})}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(o);++a<t;)r=e[a],this.resolve(r).then(function(e){n||(n=!0,i.resolve(s,e))},function(e){n||(n=!0,i.reject(s,e))});return s}},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,h={},m=Object.prototype.toString,p="readwrite";function y(e){var t=h[e.name],n={};n.promise=new a(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function v(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function g(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function b(e,t){return new a(function(n,r){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);y(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),v(e)}})}function w(e){return b(e,!1)}function _(e){return b(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function I(e){return i([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data))],{type:e.type})}function E(e){return e&&e.__local_forage_encoded_blob}function k(e){var t=this,n=t._initReady().then(function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function T(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),_(e)}).then(function(){return function(e){y(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,w(e).then(function(t){return e.db=t,S(e)?_(e):t}).then(function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(t){throw g(e,t),t})}(e).then(function(){T(e,t,n,r-1)})}).catch(n);n(o)}}var D={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=h[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=k);var i=[];function s(){return a.resolve()}for(var u=0;u<o.forages.length;u++){var c=o.forages[u];c!==t&&i.push(c._initReady().catch(s))}var l=o.forages.slice(0);return a.all(i).then(function(){return n.db=o.db,w(n)}).then(function(e){return n.db=e,S(n,t._defaultConfig.version)?_(n):e}).then(function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){T(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;E(r)&&(r=I(r));var o=e(r,n.key,s++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a(function(t,r){n.ready().then(function(){T(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),E(e)&&(e=I(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=new a(function(n,o){var s;r.ready().then(function(){return s=r._dbInfo,"[object Blob]"===m.call(t)?(e=s.db,"boolean"==typeof f?a.resolve(f):function(e){return new a(function(t){var n=e.transaction(d,p),r=i([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return f=e})).then(function(e){return e?t:(n=t,new a(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):t;var e}).then(function(t){T(r._dbInfo,p,function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return s(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=new a(function(t,r){n.ready().then(function(){T(n._dbInfo,p,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){T(t._dbInfo,p,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){T(t._dbInfo,"readonly",function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new a(function(t,r){e<0?t(null):n.ready().then(function(){T(n._dbInfo,"readonly",function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===e?t(n.key):s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){T(t._dbInfo,"readonly",function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(e){n(e)}})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):w(e).then(function(t){var n=h[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t});n=e.storeName?i.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;y(e);var r=h[e.name],i=r.forages;t.close();for(var s=0;s<i.length;s++){var u=i[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,v(n._dbInfo)}}).catch(function(t){throw(g(e,t)||a.resolve()).catch(function(){}),t})}}):i.then(function(t){y(e);var n=h[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++){r[i]._dbInfo.db=null}return new a(function(t,n){var r=o.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++){v(r[t]._dbInfo)}}).catch(function(t){throw(g(e,t)||a.resolve()).catch(function(){}),t})})}else n=a.reject("Invalid arguments");return s(n,t),n}},N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/^~~local_forage_type~([^~]+)~/,C="__lfsc__:".length,x=C+"arbf".length,O=Object.prototype.toString;function A(e){var t,n,r,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=N.indexOf(e[t]),r=N.indexOf(e[t+1]),o=N.indexOf(e[t+2]),i=N.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}function B(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=N[n[t]>>2],r+=N[(3&n[t])<<4|n[t+1]>>4],r+=N[(15&n[t+1])<<2|n[t+2]>>6],r+=N[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var j={serialize:function(e,t){var n="";if(e&&(n=O.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===O.call(e.buffer))){var r,o="__lfsc__:";e instanceof ArrayBuffer?(r=e,o+="arbf"):(r=e.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(o+B(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+B(this.result);t("__lfsc__:blob"+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,C))return JSON.parse(e);var t,n=e.substring(x),r=e.substring(C,x);if("blob"===r&&R.test(n)){var o=n.match(R);t=o[1],n=n.substring(o[0].length)}var a=A(n);switch(r){case"arbf":return a;case"blob":return i([a],{type:t});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:A,bufferToString:B};function F(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function L(e,t,n,r,o,i){e.executeSql(n,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?i(e,a):F(e,t,function(){e.executeSql(n,r,o,i)},i)},i):i(e,a)},i)}var P={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new a(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){F(o,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=j,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){L(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var u=i.item(s),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){L(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){return function e(t,n,r,o){var i=this;t=c(t);var u=new a(function(a,s){i.ready().then(function(){void 0===n&&(n=null);var u=n,c=i._dbInfo;c.serializer.serialize(n,function(n,l){l?s(l):c.db.transaction(function(e){L(e,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){a(u)},function(e,t){s(t)})},function(n){if(n.code===n.QUOTA_ERR){if(o>0)return void a(e.apply(i,[t,u,r,o-1]));s(n)}})})}).catch(s)});return s(u,r),u}.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){L(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){L(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){L(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){L(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){L(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return s(r=e.name?new a(function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new a(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})},function(e,t){n(t)})},function(e){n(e)})})}(r))}).then(function(e){return new a(function(t,n){e.db.transaction(function(r){function o(e){return new a(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var i=[],s=0,u=e.storeNames.length;s<u;s++)i.push(o(e.storeNames[s]));a.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):a.reject("Invalid arguments"),t),r}};function H(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var M={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=H(e,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=j,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(o),a++)))return c}}});return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new a(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return s(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return s(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return s(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return s(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return s(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return s(r=e.name?new a(function(t){e.storeName?t(H(e,o._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),t),r}},z=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},G=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},U={},q={},W={INDEXEDDB:D,WEBSQL:P,LOCALSTORAGE:M},Y=[W.INDEXEDDB._driver,W.WEBSQL._driver,W.LOCALSTORAGE._driver],V=["dropInstance"],Q=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(V),K={description:"",driver:Y.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function X(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function J(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(G(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var Z=new(function(){function e(t){for(var n in function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),W)if(W.hasOwnProperty(n)){var r=W[n],o=r._driver;this[n]=o,U[o]||this.defineDriver(r)}this._defaultConfig=J({},K),this._config=J({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=Q.concat("_initStorage"),u=0,c=i.length;u<c;u++){var l=i[u];if((!z(V,l)||e[l])&&"function"!=typeof e[l])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=V.length;n<r;n++){var o=V[n];e[o]||(e[o]=t(o))}}();var d=function(n){U[r]&&console.info("Redefining LocalForage driver: "+r),U[r]=e,q[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}});return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=U[e]?a.resolve(U[e]):a.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(j);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;G(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function s(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=c.then(function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}i();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(o)})}).catch(function(){i();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet}),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!q[e]},e.prototype._extend=function(e){J(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=Q.length;e<t;e++)X(this,Q[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=Z},{3:3}]},{},[4])(4)}(s={exports:{}}),s.exports);class c{constructor(){this.dbPromise=new Promise((e,t)=>{let n;const r={name:"_cryptostorage",storeName:"_cryptokv",driverOrder:["indexeddb","websql","localstorage"]};(n=u.createInstance(r)).setDriver(this.getDriverOrder(r.driverOrder)).then(()=>{e(n)}).catch(e=>t(e))})}ready(){return this.dbPromise}getDriverOrder(e){return e.map(e=>{switch(e){case"indexeddb":return u.INDEXEDDB;case"websql":return u.WEBSQL;case"localstorage":return u.LOCALSTORAGE}})}get(e){return this.dbPromise.then(t=>t.getItem(e))}set(e,t){return this.dbPromise.then(n=>n.setItem(e,t))}remove(e){return this.dbPromise.then(t=>t.removeItem(e))}clear(){return this.dbPromise.then(e=>e.clear())}}const l=60,d={goalNumberOfSuccesses:3,initialFeedTimer:2,initialGameTimer:5,name:"easy",points:1},f={goalNumberOfSuccesses:5,initialFeedTimer:2,initialGameTimer:6,name:"medium",points:3},h={goalNumberOfSuccesses:7,initialFeedTimer:2,initialGameTimer:7,name:"hard",points:8},m={won:!0,buttonLabel:"Yay!",heading:"You Won!",text:"Congratulations on successfully helping your Dragon find a happy life!"},p={won:!1,buttonLabel:"Try again!",heading:"Oh noes!",text:"Unfortunately, you didn't do so well this time…"},y=1,v=2,g=30,b=10;class w{constructor(){this.clueTimer=0,this.difficultyLevel="",this.feedTimer=0,this.gameTimer=0,this.goalNumberOfSuccesses=0,this.initialFeedTimer=0,this.initialGameTimer=0,this.initialNumberOfClues=3,this.isRunning=!1,this.remainingClues=0,this.resultButtonLabel="",this.resultHeading="",this.resultText="",this.successesUntilVictory=0,this.timerPoints=0,this.difficultyPoints=0,this.gameWon=!1}componentWillLoad(){!1===this.isServer&&(this.storage=new c,this.storage.get("soundEnabled").then(e=>{null===e&&(e=!0),this.soundEnabled=e,this.toggleSoundButton&&(this.toggleSoundButton.on=this.soundEnabled),this.storage.set("soundEnabled",this.soundEnabled)}))}componentDidLoad(){this.setDifficulty(d),this.timerBeep=this.htmlElement.querySelector("#timer-beep"),this.timerBeep2x=this.htmlElement.querySelector("#timer-beep-2x"),this.timerBeep3x=this.htmlElement.querySelector("#timer-beep-3x"),this.rulesDialog=this.htmlElement.querySelector("app-rules"),this.gameOverDialog=new n(document.querySelector("#game-over-dialog")),this.gameOverDialog.listen("MDCDialog:accept",()=>{this.resetGame()}),this.gameOverDialog.listen("MDCDialog:cancel",()=>{this.resetGame()}),this.toggleSoundButton=new r(this.htmlElement.querySelector("#toggle-sound")),this.toggleSoundButton.listen("MDCIconButtonToggle:change",e=>{this.soundEnabled=e.detail.isOn,this.storage.set("soundEnabled",this.soundEnabled)})}componentDidUnload(){this.gameOverDialog.destroy(),this.toggleSoundButton.destroy()}render(){return e("section",{class:"app-home"},e("div",{class:"difficulty-controls"},e("pd-button",{label:"Easy",onClick:this.setDifficulty.bind(this,d),disabled:this.isRunning,selected:"easy"===this.difficultyLevel,color:"green"}),e("pd-button",{label:"Medium",onClick:this.setDifficulty.bind(this,f),disabled:this.isRunning,selected:"medium"===this.difficultyLevel,color:"yellow"}),e("pd-button",{label:"Hard",onClick:this.setDifficulty.bind(this,h),disabled:this.isRunning,selected:"hard"===this.difficultyLevel,color:"red"})),e("div",{class:"game-controls"},e("pd-button",{label:this.isRunning?"Pause":"Start",onClick:this.playOrPause.bind(this),primary:!0,color:"green"}),e("pd-button",{label:"Reset",onClick:this.resetGame.bind(this),disabled:this.isRunning})),e("div",{class:"timers"},e("div",null,e("p",null,"Game time left:"),e("p",{class:"timer"},this.gameTimer)),e("div",{class:this.isFeedingAllowed()?"warning":""},e("p",null,"Feeder time left:"),e("p",{class:"timer"},this.feedTimer))),e("div",null,e("pd-button",{label:"Feed!",onClick:this.feed.bind(this),disabled:!this.isFeedingAllowed(),primary:!0,color:"red"})),e("div",{class:"successes"},e("div",null,"Number of",e("br",null),"successes left:"),e("div",{class:"counter"},this.successesUntilVictory)),e("p",null,e("pd-button",{label:"Log success",onClick:this.logSuccess.bind(this),disabled:!this.isRunning,primary:!0})),e("div",null,e("p",null,"Remaining clues: ",e("b",null,this.remainingClues)),e("div",{class:"clue-buttons"},e("div",null,e("pd-button",{label:"Use general clue",onClick:this.useGeneralClue.bind(this),disabled:!this.isGeneralClueAllowed(),primary:!0})),e("div",null,e("pd-button",{label:"Use specific clue",onClick:this.useSpecificClue.bind(this),disabled:!this.isSpecificClueAllowed(),primary:!0})))),e("p",{class:"rules-version"},e("a",{href:"",onClick:e=>{e.preventDefault(),this.showRules()}},"Rules version: 0.3")),e("aside",{class:"settings"},e("button",{id:"toggle-sound",class:"mdc-icon-button material-icons","aria-label":"Toggle sound","aria-hidden":"true","aria-pressed":this.soundEnabled,"data-toggle-on-content":"volume_up","data-toggle-on-label":"Disable sound","data-toggle-off-content":"volume_off","data-toggle-off-label":"Enable sound"})),e("aside",{id:"game-over-dialog",class:"mdc-dialog"},e("div",{class:"mdc-dialog__surface"},e("header",{class:"mdc-dialog__header"},e("h2",{class:"mdc-dialog__header__title"},this.resultHeading)),e("section",{class:"mdc-dialog__body"},this.resultText,e("span",{class:`\n                                    points\n                                    ${this.gameWon?"game-won":"game-lost"}\n                                `},e("p",null,"Base points: ",this.difficultyPoints),e("p",null,"Time points: ",this.timerPoints),e("p",null,"+1 point for each remaining Happiness!"))),e("footer",{class:"mdc-dialog__footer"},e("pd-button",{class:"mdc-dialog__footer__button--accept",label:this.resultButtonLabel,primary:!0}))),e("div",{class:"mdc-dialog__backdrop"})),e("app-rules",null),e("audio",{id:"timer-beep",preload:"auto"},e("source",{src:"/assets/sound/beep-hightone.mp3",type:"audio/mp3"}),e("source",{src:"/assets/sound/beep-hightone.ogg",type:"audio/ogg"}),e("source",{src:"/assets/sound/beep-hightone.wav",type:"audio/wave"}),e("source",{src:"/assets/sound/beep-hightone.wav",type:"audio/wav"}),e("p",null,"Your browser does not support html5 audio.")),e("audio",{id:"timer-beep-2x",preload:"auto"},e("source",{src:"/assets/sound/beep-hightone-2x.mp3",type:"audio/mp3"}),e("source",{src:"/assets/sound/beep-hightone-2x.ogg",type:"audio/ogg"}),e("source",{src:"/assets/sound/beep-hightone-2x.wav",type:"audio/wave"}),e("source",{src:"/assets/sound/beep-hightone-2x.wav",type:"audio/wav"}),e("p",null,"Your browser does not support html5 audio.")),e("audio",{id:"timer-beep-3x",preload:"auto"},e("source",{src:"/assets/sound/beep-hightone-3x.mp3",type:"audio/mp3"}),e("source",{src:"/assets/sound/beep-hightone-3x.ogg",type:"audio/ogg"}),e("source",{src:"/assets/sound/beep-hightone-3x.wav",type:"audio/wave"}),e("source",{src:"/assets/sound/beep-hightone-3x.wav",type:"audio/wav"}),e("p",null,"Your browser does not support html5 audio.")))}isFeedingAllowed(){return this.isRunning&&this.feedTimer<=g}isGeneralClueAllowed(){return this.isRunning&&this.remainingClues>=y}isSpecificClueAllowed(){return this.isRunning&&this.remainingClues>=v}resetGame(){clearInterval(this.intervalHandle),this.isRunning=!1,this.gameTimer=this.initialGameTimer,this.feedTimer=this.initialFeedTimer,this.successesUntilVictory=this.goalNumberOfSuccesses,this.remainingClues=this.initialNumberOfClues}setDifficulty(e){this.initialFeedTimer=e.initialFeedTimer*l,this.initialGameTimer=e.initialGameTimer*l,this.goalNumberOfSuccesses=e.goalNumberOfSuccesses,this.difficultyLevel=e.name,this.difficultyPoints=e.points,this.resetGame()}startGame(){this.isRunning=!0,this.clueTimer<1&&this.setClueTimer(),this.intervalHandle=setInterval(()=>{this.gameTimer-=1,this.feedTimer-=1,this.clueTimer-=1,this.soundEnabled&&30===this.feedTimer&&this.timerBeep.play(),this.soundEnabled&&20===this.feedTimer&&this.timerBeep2x.play(),this.soundEnabled&&10===this.feedTimer&&this.timerBeep3x.play(),this.clueTimer<1&&(this.remainingClues+=1,this.setClueTimer()),(this.feedTimer<1||this.gameTimer<1)&&(this.isRunning=!1,clearInterval(this.intervalHandle),this.gameOver(p))},1e3)}pauseGame(){clearInterval(this.intervalHandle),this.isRunning=!1}playOrPause(){this.isRunning?this.pauseGame():this.startGame()}feed(){this.feedTimer=this.initialFeedTimer-this.feedTimer}logSuccess(){this.successesUntilVictory-=1,this.successesUntilVictory<1&&(clearInterval(this.intervalHandle),this.isRunning=!1,this.gameOver(m))}useGeneralClue(){this.remainingClues-=y}useSpecificClue(){this.remainingClues-=v}setClueTimer(){this.clueTimer=Math.round(5*Math.random()+15)}gameOver(e){e.won&&(this.timerPoints=Math.floor(this.gameTimer/b)),this.gameWon=e.won,this.resultHeading=e.heading,this.resultText=e.text,this.resultButtonLabel=e.buttonLabel,this.gameOverDialog.show()}showRules(){this.rulesDialog.showRules()}static get is(){return"app-home"}static get properties(){return{clueTimer:{state:!0},difficultyLevel:{state:!0},difficultyPoints:{state:!0},feedTimer:{state:!0},gameOverDialog:{state:!0},gameTimer:{state:!0},gameWon:{state:!0},goalNumberOfSuccesses:{state:!0},htmlElement:{elementRef:!0},initialFeedTimer:{state:!0},initialGameTimer:{state:!0},initialNumberOfClues:{state:!0},intervalHandle:{state:!0},isRunning:{state:!0},isServer:{context:"isServer"},remainingClues:{state:!0},resultButtonLabel:{state:!0},resultHeading:{state:!0},resultText:{state:!0},rulesDialog:{state:!0},soundEnabled:{state:!0},storage:{state:!0},successesUntilVictory:{state:!0},timerBeep:{state:!0},timerBeep2x:{state:!0},timerBeep3x:{state:!0},timerPoints:{state:!0},toggleSoundButton:{state:!0}}}static get style(){return"\@-webkit-keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@keyframes mdc-ripple-fg-radius-in{from{-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1);transform:translate(var(--mdc-ripple-fg-translate-start,0)) scale(1)}to{-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}}\@-webkit-keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@keyframes mdc-ripple-fg-opacity-in{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity,0)}}\@-webkit-keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}\@keyframes mdc-ripple-fg-opacity-out{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity,0)}to{opacity:0}}.mdc-ripple-surface--test-edge-var-bug{--mdc-ripple-surface-test-edge-var:1px solid #000;visibility:hidden}.mdc-ripple-surface--test-edge-var-bug::before{border:var(--mdc-ripple-surface-test-edge-var)}.mdc-icon-button{--mdc-ripple-fg-size:0;--mdc-ripple-left:0;--mdc-ripple-top:0;--mdc-ripple-fg-scale:1;--mdc-ripple-fg-translate-end:0;--mdc-ripple-fg-translate-start:0;-webkit-tap-highlight-color:transparent;will-change:transform,opacity;width:48px;height:48px;padding:12px;font-size:24px;display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;border:none;outline:0;background-color:transparent;fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mdc-icon-button::after,.mdc-icon-button::before{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\";top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%;background-color:#000}.mdc-icon-button::before{-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear;z-index:1}.mdc-icon-button.mdc-ripple-upgraded::before{-webkit-transform:scale(var(--mdc-ripple-fg-scale,1));transform:scale(var(--mdc-ripple-fg-scale,1))}.mdc-icon-button.mdc-ripple-upgraded::after{top:0;left:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center center;transform-origin:center center;width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-icon-button.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top,0);left:var(--mdc-ripple-left,0)}.mdc-icon-button.mdc-ripple-upgraded--foreground-activation::after{-webkit-animation:225ms forwards mdc-ripple-fg-radius-in,75ms forwards mdc-ripple-fg-opacity-in;animation:225ms forwards mdc-ripple-fg-radius-in,75ms forwards mdc-ripple-fg-opacity-in}.mdc-icon-button.mdc-ripple-upgraded--foreground-deactivation::after{-webkit-animation:150ms mdc-ripple-fg-opacity-out;animation:150ms mdc-ripple-fg-opacity-out;-webkit-transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1));transform:translate(var(--mdc-ripple-fg-translate-end,0)) scale(var(--mdc-ripple-fg-scale,1))}.mdc-icon-button.mdc-ripple-upgraded::after,.mdc-icon-button.mdc-ripple-upgraded::before{top:var(--mdc-ripple-top,calc(50% - 50%));left:var(--mdc-ripple-left,calc(50% - 50%));width:var(--mdc-ripple-fg-size,100%);height:var(--mdc-ripple-fg-size,100%)}.mdc-icon-button img,.mdc-icon-button svg{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light,rgba(0,0,0,.38));cursor:default;pointer-events:none}.mdc-icon-button:hover::before{opacity:.04}.mdc-icon-button.mdc-ripple-upgraded--background-focused::before,.mdc-icon-button:not(.mdc-ripple-upgraded):focus::before{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.12}.mdc-icon-button:not(.mdc-ripple-upgraded)::after{-webkit-transition:opacity 150ms linear;transition:opacity 150ms linear}.mdc-icon-button:not(.mdc-ripple-upgraded):active::after{-webkit-transition-duration:75ms;transition-duration:75ms;opacity:.16}.mdc-icon-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:0.16}.mdc-icon-button--disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light,rgba(0,0,0,.38));pointer-events:none}.mdc-dialog{display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;visibility:hidden;z-index:5}.mdc-dialog__backdrop{background-color:rgba(0,0,0,.87);background-color:var(--mdc-theme-text-primary-on-light,rgba(0,0,0,.87));position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;opacity:0;z-index:-1}.mdc-dialog__surface{-webkit-box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-background,#fff);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 30px);min-width:640px;max-width:865px;-webkit-transform:translateY(150px) scale(.8);transform:translateY(150px) scale(.8);border-radius:2px;opacity:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:24px 24px 0}.mdc-dialog[dir=rtl] .mdc-dialog__header,[dir=rtl] .mdc-dialog .mdc-dialog__header{text-align:right}.mdc-dialog__header__empty{padding:0}.mdc-dialog__header__title{font-family:cartoons_123regular;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0}.mdc-dialog__body{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-light,rgba(0,0,0,.54));font-family:cartoons_123regular;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.5rem;font-weight:400;letter-spacing:.03125em;text-decoration:inherit;text-transform:inherit;margin-top:20px;padding:0 24px 24px}.mdc-dialog__body--scrollable{max-height:195px;border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1);overflow-x:auto;overflow-y:scroll;-webkit-overflow-scrolling:touch}.mdc-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:8px}.mdc-dialog__footer__button{margin-left:0;margin-right:8px}.mdc-dialog__footer__button[dir=rtl],[dir=rtl] .mdc-dialog__footer__button{margin-left:8px;margin-right:0}.mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__footer__button:last-child[dir=rtl],[dir=rtl] .mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__action:not(:disabled){color:#e8b63d;color:var(--mdc-theme-secondary,#e8b63d)}\@media (max-width:640px){.mdc-dialog,.mdc-dialog__surface{min-width:280px}.mdc-dialog__body{line-height:24px}}.mdc-dialog--animating{visibility:visible}.mdc-dialog--animating .mdc-dialog__backdrop{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--animating .mdc-dialog__surface{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--open{visibility:visible}.mdc-dialog--open .mdc-dialog__backdrop{opacity:.3}.mdc-dialog--open .mdc-dialog__surface{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}.app-home{margin-left:auto;margin-right:auto;max-width:500px;min-width:295px;position:relative;text-align:center;padding:66px 10px 10px}.warning{color:#f3847e}.difficulty-controls,.game-controls{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1em}.timers{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.timers>div{margin-left:10px;margin-right:10px;text-align:center}.timers>div>.timer{font-size:36px;margin-bottom:.5em;margin-top:.5em}.successes{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;margin-top:1em}.successes>div{margin-left:10px;margin-right:10px}.successes>.counter{font-size:36px}.clue-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-wrap:wrap;flex-wrap:wrap}.clue-buttons>div{margin-bottom:1em;margin-left:10px;margin-right:10px}.rules-version{color:#b2b3b4;font-size:10px}.settings{bottom:5px;color:#b2b3b4;position:absolute;right:5px}.points.game-lost{display:none}"}}class _{constructor(){this.rules=""}showRules(){this.rulesDialog.show()}componentWillLoad(){this.rules=this.getFormattedRules()}componentDidLoad(){this.rulesDialog=new n(this.htmlElement.querySelector("#rules-dialog"))}componentDidUnload(){this.rulesDialog.destroy()}render(){return e("aside",{id:"rules-dialog",class:"mdc-dialog"},e("div",{class:"mdc-dialog__surface"},e("header",{class:"mdc-dialog__header"},e("h2",{class:"mdc-dialog__header__title"},"Game Rules")),e("section",{class:"mdc-dialog__body"},e("div",{class:"dialog-body",innerHTML:this.rules})),e("footer",{class:"mdc-dialog__footer"},e("pd-button",{class:"mdc-dialog__footer__button--accept",label:"Close",primary:!0}))),e("div",{class:"mdc-dialog__backdrop"}))}getFormattedRules(){return(new window.showdown.Converter).makeHtml("\nThe two of you have chosen to raise this pocket Dragon together. Like every other Dragon, this one has needs. He wants to eat, learn to cook, have some healthy exercise, play board games, make friends, maybe fall in love… Can you be the perfect dragon-parent to him? Remember, always keep him fed!!\n\n## Components\n\n- 14x Activities card\n- 20x Collection cards\n- 1x Happiness tracker card\n- 1x Actions reminder player aid\n- 1x Happiness token\n\n## Setup\n\n1. Get your smartphone (or other preferably touchscreen device) that has internet, and go to [https://pocketdragon.co.uk/](http://pocketdragon.co.uk/). Put it on the table between the players, to the side.\n2. Select the difficulty of the game (Easy, Medium, or Hard).\n3. Place Happiness tracker card to the other side of the play area, and place the Happiness token on it.\n    1. If playing Easy: put it on 4.\n    2. If playing Medium: put it on 3.\n    3. If playing Hard: put it on 3.\n\n4. Shuffle the Collection cards and lay them out face down in a 4 by 5 grid between the players.\n5. Shuffle the Activities cards to form a draw deck.\n6. Both players draw 3 cards from the deck, and they hold it in a way that the other player can see the cards (especially the icons on the top) but they can’t see their own cards themselves.\n7. Make sure you know the rules, as you won’t have time to look them up while the timer goes!\n8. Hit START on your smartphone.\n\n## Rules of play\n\nPlayers take turns alternatingly, as fast as they can. On your turn, you may carry out one of the following actions:\n\n- Look at 2 face down Collection cards in the grid. You may not tell the other player what you saw.\n- Ask for a general clue about an icon. Say “Which of my cards have Endurance (grey) icons?”, to which the other player will point at all your cards that have at least one grey icon on. This action is only available if the General Clue button is available in the app. Press the button when taking this action.\n- Ask for a specific clue about a card. Say “Name one icon on this card!”, while pointing at one of your cards. To which the other player will answer, for example, “Attention (green)”. They cannot say how many, or what else, and can only name one icon. This action is only available if the Specific Clue button is available in the app. Press the button when taking this action.\n- Play an Activity. You pick a card from your hand and put it down on the table (Note: This is the first time you’re seeing that card). You will then see the 2 or 3 skill icons that Activity requires of you.\n    - You then have to flip 2 or 3 face down cards from the grid (depending on how many are on the card), matching each of the icons on the played card.\n    - Once you successfully flipped all but one (1 of 2 or 2 of 3) of the required icons, you may ask your partner to suggest a card to flip. (As they might know where one of the required icons are.)\n    - Once you successfully matched all 3 icons, discard all face up cards from the grid to the collection discard pile, and put the completed Activity to the side. Press the “Log Success” button in the app. If this is the last required Activity (as shown by the app), the Dragon gets very happy, and you have won the game.\n    - If you (or your partner) make a mistake, decrease the Dragon’s Happiness by one (on the tracker) and keep trying, discarding the mistaken card.\n        - If the mistake was made by your partner, they can keep suggesting other cards to look at.\n        - If the Happiness was already on zero, you instead lose the game.\n\n    - After flipping at least 1 card over, you may stop trying at any time and just remove the Activity from play, and discard all revealed collection cards.\n    - If you haven’t won or lost the game, draw a new Activity card, and orient it towards your partner (without you looking at it, obviously). If you can’t draw one (because the draw pile is empty), you have lost the game.\n\n- Collect Food. Flip a face down card face up in the grid, and put it in front of you with the Food side up. You may not take this action if you already have 4 food cards in front of you.\n    - It is suggested to organize the collected cards by matching food icons.\n\n- Feed the Dragon. This action is only available if the “Feed” button is enabled in the app.\n    - Press the “Feed” button to reset the hunger timer.\n    - Discard all cards of one type of collected Food cards from in front of you. (For example if you have 2 sushi and 1 hazelnut spread, you may discard either the 2 sushi or the 1 hazelnut spread). The discarded cards go to the collection discard pile.\n    - Increase the Dragon’s Happiness by one less than the number of Food discarded. (For example if you’ve discarded 3 steaks, increase the Happiness tracker by 2.)\n    - Note: the app will turn the hunger timer red for the last 30 seconds of it. If the timer runs out, you lose the game!\n\n- Tidy Up. You can only take this action if there are 5 or fewer face down cards remaining in the grid.\n    - Collect all face down cards from the grid and shuffle them together with the collection discard pile. Note: Do not shuffle collected Food cards back at this time.\n    - Quickly lay these cards out in a grid, as close to a 4-by-5 one as possible.\n    - Decrease the Dragon’s Happiness by one (he hates tidying up). If the Happiness was already on zero, you instead lose the game.\n\n### Rules of Communication\n\nYou may talk with your partner as much as you wish, except:\n\n- You may not divulge which face down card has which icons\n- You may not give more information about your partner’s cards other than what the clue-giving action allows. You may however remind your opponent of information they already asked for after giving a new clue (don’t cheat!).\n- You may not tell your partner which action they should take, or which Activity they should play from hand. It is okay to discuss strategy and timing regarding feeding and tidying up.\n- You can examine the collection discard pile at any time and communicate its contents to your partner.\n\n## Scoring\n\nThe game ends in defeat if:\n\n- You need to decrease Happiness when Happiness is zero. (Note: Not when happiness reaches zero. Happiness is essentially the number of mistakes / tidy up actions remaining you can have/use.)\n- You forget to feed the Dragon in time.\n- The main timer runs out.\n\nThe game ends in victory if you complete the required number of tasks before any of the loss conditions trigger.\n\nYou can then determine your score:\n\n- Base score: Easy: 1, Medium: 3, Hard: 8\n- For each remaining Happiness: +1\n- For each remaining ten seconds on the main timer: +1\n\nIf you can score above 10, you’re really good, if you can score above 15 you’re amazing.\n\n## Credits:\n\nGame Design: Dávid Turczi and Wai-yee Phuah\n\nWith a little help from: Jonathan Gilmour and Adrian Schmidt\n\nSpecial thanks for playtesting to: Nick Shaw, Neil HK, Anthony Howgego\n\nThanks to Richard Ham (rahdo) and Tom Heath (slickerdrips) for the review videos.\n        ")}static get is(){return"app-rules"}static get properties(){return{htmlElement:{elementRef:!0},rules:{state:!0},rulesDialog:{state:!0},showRules:{method:!0}}}static get style(){return".mdc-dialog{display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;visibility:hidden;z-index:5}.mdc-dialog__backdrop{background-color:rgba(0,0,0,.87);background-color:var(--mdc-theme-text-primary-on-light,rgba(0,0,0,.87));position:fixed;top:0;left:0;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;opacity:0;z-index:-1}.mdc-dialog__surface{-webkit-box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-background,#fff);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 30px);min-width:640px;max-width:865px;-webkit-transform:translateY(150px) scale(.8);transform:translateY(150px) scale(.8);border-radius:2px;opacity:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:24px 24px 0}.mdc-dialog[dir=rtl] .mdc-dialog__header,[dir=rtl] .mdc-dialog .mdc-dialog__header{text-align:right}.mdc-dialog__header__empty{padding:0}.mdc-dialog__header__title{font-family:cartoons_123regular;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1.25rem;line-height:2rem;font-weight:500;letter-spacing:.0125em;text-decoration:inherit;text-transform:inherit;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0}.mdc-dialog__body{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-light,rgba(0,0,0,.54));font-family:cartoons_123regular;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:1rem;line-height:1.5rem;font-weight:400;letter-spacing:.03125em;text-decoration:inherit;text-transform:inherit;margin-top:20px;padding:0 24px 24px}.mdc-dialog__body--scrollable{max-height:195px;border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1);overflow-x:auto;overflow-y:scroll;-webkit-overflow-scrolling:touch}.mdc-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:8px}.mdc-dialog__footer__button{margin-left:0;margin-right:8px}.mdc-dialog__footer__button[dir=rtl],[dir=rtl] .mdc-dialog__footer__button{margin-left:8px;margin-right:0}.mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__footer__button:last-child[dir=rtl],[dir=rtl] .mdc-dialog__footer__button:last-child{margin-left:0;margin-right:0}.mdc-dialog__action:not(:disabled){color:#e8b63d;color:var(--mdc-theme-secondary,#e8b63d)}\@media (max-width:640px){.mdc-dialog,.mdc-dialog__surface{min-width:280px}.mdc-dialog__body{line-height:24px}}.mdc-dialog--animating{visibility:visible}.mdc-dialog--animating .mdc-dialog__backdrop{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--animating .mdc-dialog__surface{-webkit-transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1);transition:opacity 120ms 0s cubic-bezier(0,0,.2,1),transform 120ms 0s cubic-bezier(0,0,.2,1),-webkit-transform 120ms 0s cubic-bezier(0,0,.2,1)}.mdc-dialog--open{visibility:visible}.mdc-dialog--open .mdc-dialog__backdrop{opacity:.3}.mdc-dialog--open .mdc-dialog__surface{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}.dialog-body{font-family:Arial,sans-serif;max-height:calc(100vh - 12rem);overflow-y:auto;text-align:left!important;text-transform:none}.dialog-body h1,.dialog-body h2,.dialog-body h3,.dialog-body h4,.dialog-body h5,.dialog-body h6{font-family:cartoons_123regular;text-transform:uppercase}.dialog-body h1{font-size:2em}.dialog-body h2{font-size:1.5em;margin-top:2em}.dialog-body h3{font-size:1.25em;margin-top:2em}"}}export{w as AppHome,_ as AppRules};